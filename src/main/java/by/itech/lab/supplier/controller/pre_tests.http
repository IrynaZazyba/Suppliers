POST http://localhost:8080/login
Content-Type: application/json
Connection: keep-alive

{
  "username": "zazybo1.17@gmail.com",
  "password": "pass"
}

> {%
client.global.set("test", response.headers.valueOf('Set-Cookie'));
%}

####

GET http://localhost:8080/customers
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/5555
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 404, "Response status is not 404");
    });
%}

###

POST http://localhost:8080/customers
Content-Type: application/json
Cookie: {{test}}

{
  "name": "SomeCompany2",
  "adminEmail": "1j323@gmail.com"
}

###
PUT http://localhost:8080/customers/4/status
Content-Type: application/json
Cookie: {{test}}

"false"

###

PUT http://localhost:8080/customers/4
Content-Type: application/json
Cookie: {{test}}

{
  "name": "New name"
}

###
#---------------------------------------------Warehouse----------------------------------------------------------------

POST http://localhost:8080/customers/3/warehouses
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "customerId": "3",
  "identifier": "199",
  "type": "FACTORY",
  "totalCapacity": "44",
  "addressDto": {
    "city": "Kanzas",
    "addressLine1": "Linkoln Str.",
    "addressLine2": "44",
    "state": {
      "id": "5",
      "state": "Alaska"
    },
    "latitude": 40.854785,
    "longitude": -75.85785
  },
  "usersId": [
    3
  ]
}

###

PUT http://localhost:8080/customers/3/warehouses/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "id": "21",
  "type": "FACTORY",
  "totalCapacity": "1",
  "addressDto": {
    "id": "104",
    "city": "Kanzas",
    "addressLine1": "Linkoln Str.",
    "addressLine2": "66",
    "state": {
      "id": "6",
      "state": "Arizona"
    },
    "latitude": 40.854785,
    "longitude": -75.85785
  }
}

###

GET http://localhost:8080/customers/3/warehouses/retailers/5
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

###

GET http://localhost:8080/customers/3/warehouses/type?type=FACTORY
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

###

GET http://localhost:8080/customers/3/warehouses/6
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

###
POST http://localhost:8080/customers/16/warehouses/20/items
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "items": [
    {
      "id": 34
    },
    {
      "id": 38
    }
  ],
  "id": 10
}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###
GET http://localhost:8080/customers/4/warehouses/2/capacity
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/warehouses/8/items?itemUpc=829
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

###

DELETE http://localhost:8080/customers/3/warehouses/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

###
#--------------------------------------------------Retailers---------------------------------------------#
###
GET http://localhost:8080/customers/3/retailers
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###
GET http://localhost:8080/customers/3/retailers/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

DELETE http://localhost:8080/customers/3/retailers/2
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 204, "Response status is not 204 status="+response.status);
    });
%}

###

POST http://localhost:8080/customers/3/retailers
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "fullName": "Tetya Motya",
  "identifier": "1615091480024",
  "deletedAt": null,
  "active": null,
  "customerId": 4
}

###
#--------------------------------------------------Users---------------------------------------------------------------

GET http://localhost:8080/customers/3/users
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}



###

GET http://localhost:8080/customers/3/users/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/users/5555
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 404, "Response status is not 404 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/users/companies
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

DELETE http://localhost:8080/customers/3/users/2
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 204, "Response status is not 204 status="+response.status);
    });
%}

###

PUT http://localhost:8080/customers/3/users/1/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

###

POST http://localhost:8080/customers/3/users
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "active": true,
  "deletedAt": null,
  "name": "Bobik",
  "surname": "Roberts",
  "birthday": "1990-10-15",
  "username": "administrator1",
  "password": "$2a$10$EpyybZabF5N7YfgTS5J8Y.tHK4eF4bRa9Xpf1D0FLD0CZ9AFaNWTG",
  "email": "zazybo1211.17@gmail.com",
  "role": "ROLE_SYSTEM_ADMIN",
  "addressDto": {
    "id": 3,
    "city": "NY",
    "addressLine1": "Lexington Avenue",
    "addressLine2": "Slobodskaya str.",
    "state": {
      "id": 4,
      "state": "Alabama"
    }
  }
}

###
PUT http://localhost:8080/customers/3/users/18
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "name": "Lewis",
  "role": "ROLE_SYSTEM_ADMIN",
  "surname": "Hamilton",
  "birthday": "1985-07-01",
  "username": "lh_powera",
  "email": "zazybo1q1.17@gfmail.com",
  "address": {
    "state": "GB",
    "city": "London",
    "addressLine1": "address 1",
    "addressLine2": "address 2"
  }
}

###

GET http://localhost:8080/customers/3/users/dispatchers
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

###
#---------------------------------------------------Category----------------------------------------------------------

POST http://localhost:8080/customers/3/category
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "category": "someType",
  "taxRate": "8"
}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/category/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/category/555
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 404, "Response status is not 404 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/category/category/someType
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###
DELETE http://localhost:8080/customers/3/category/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 204, "Response status is not 204 status="+response.status);
    });
%}

###
#-----------------------------------------------------Item------------------------------------------------------------
POST http://localhost:8080/customers/3/item
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "upc": "8.5",
  "label": "label",
  "units": "80.5",
  "categoryDto": {
    "id": 2
  }
}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/item
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/item/category/someType
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/item/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/item/555
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 404, "Response status is not 404 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/item/label/label
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/item/upc?upc=135
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

DELETE http://localhost:8080/customers/3/item/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 204, "Response status is not 204 status="+response.status);
    });
%}

###

#-------------------------------------------------------Application---------------------------------------------------
# Note: put commentaries before @Secured in ApplicationController

POST http://localhost:8080/customers/3/application
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

{
  "number": "Test",
  "customerId": 3,
  "type": "SUPPLY",
  "registrationDate": "2020-11-03",
  "lastUpdated": "2020-11-04",
  "sourceLocationDto": {
    "id": 1
  },
  "destinationLocationDto": {
    "id": 3
  },
  "createdByUsersDto": {
    "active": true,
    "deletedAt": null,
    "id": 1,
    "name": "Bob",
    "surname": "Roberts",
    "birthday": "1990-10-15",
    "username": "admin",
    "password": null,
    "email": "zazybo1.17@gmail.com",
    "role": "ROLE_SYSTEM_ADMIN",
    "addressDto": {
      "id": 3,
      "city": "NY",
      "addressLine1": "Lexington Avenue",
      "addressLine2": "Slobodskaya str.",
      "state": {
        "id": 4,
        "state": "Alabama"
      }
    },
    "customerDto": {
      "id": 3,
      "name": "SystemCompany",
      "registrationDate": "2020-10-19",
      "active": true,
      "adminEmail": null
    },
    "warehouse": null
  },
  "lastUpdatedByUsersDto": {
    "active": true,
    "deletedAt": null,
    "id": 1,
    "name": "Bob",
    "surname": "Roberts",
    "birthday": "1990-10-15",
    "username": "admin",
    "password": null,
    "email": "zazybo1.17@gmail.com",
    "role": "ROLE_SYSTEM_ADMIN",
    "addressDto": {
      "id": 3,
      "city": "NY",
      "addressLine1": "Lexington Avenue",
      "addressLine2": "Slobodskaya str.",
      "state": {
        "id": 4,
        "state": "Alabama"
      }
    },
    "customerDto": {
      "id": 3,
      "name": "SystemCompany",
      "registrationDate": "2020-10-19",
      "active": true,
      "adminEmail": null
    },
    "warehouse": null
  },
  "applicationStatus": "OPEN",
  "wayBillDto": null,
  "deletedAt": null,
  "items": [
    {
      "cost": 55.0,
      "amount": 99,
      "itemDto": {
        "id": 1,
        "upc": 8.5,
        "label": "label",
        "units": 80.5,
        "categoryDto": {
          "id": 2,
          "category": "EL",
          "taxRate": 11,
          "deletedAt": null
        },
        "deletedAt": null
      },
      "deletedAt": null
    }
  ]
}




> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/application/admin
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/application/number/Test
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/application/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/application/555
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 404, "Response status is not 404 status="+response.status);
    });
%}

###

GET http://localhost:8080/customers/3/application/number/Blablabla
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 404, "Response status is not 404 status="+response.status);
    });
%}

###

PUT http://localhost:8080/customers/3/application/1/STARTED_PROCESSING
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 204, "Response status is not 204 status="+response.status);
    });
%}

###

DELETE http://localhost:8080/customers/3/application/1
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 204, "Response status is not 204 status="+response.status);
    });
%}

###-------------------------------------------------------Taxes---------------------------------------------------
GET http://localhost:8080/taxes
Content-Type: application/json
Connection: keep-alive
Cookie: {{test}}

> {%
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200 status="+response.status);
    });
%}

###